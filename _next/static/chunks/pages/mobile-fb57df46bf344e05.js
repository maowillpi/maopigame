(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2422],{9644:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mobile",function(){return l(4948)}])},4948:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return MobileGame}});var a=l(5893),n=l(7294),s=l(1163),o=l(9008),i=l.n(o),r=l(7583),c=l(8470),components_MobileWheelGame=e=>{let{account:t,contract:l,balances:s,selectedToken:o,onUpdateBalances:i,onGameResult:r}=e,[c,d]=(0,n.useState)(!1),[m,x]=(0,n.useState)(null),[u,h]=(0,n.useState)(!1),p=(0,n.useRef)(null),b={MAO:{betAmount:100,rewards:[{level:0,name:"谢谢惠顾",amount:0,color:"#6B7280",textColor:"#FFFFFF"},{level:1,name:"小奖",amount:150,color:"#F59E0B",textColor:"#FFFFFF"},{level:2,name:"中奖",amount:400,color:"#EF4444",textColor:"#FFFFFF"},{level:3,name:"大奖",amount:800,color:"#8B5CF6",textColor:"#FFFFFF"},{level:4,name:"超级大奖",amount:1500,color:"#10B981",textColor:"#FFFFFF"},{level:5,name:"终极大奖",amount:3e3,color:"#F97316",textColor:"#FFFFFF"}]},PI:{betAmount:1e4,rewards:[{level:0,name:"谢谢惠顾",amount:0,color:"#6B7280",textColor:"#FFFFFF"},{level:1,name:"小奖",amount:15e3,color:"#F59E0B",textColor:"#FFFFFF"},{level:2,name:"中奖",amount:4e4,color:"#EF4444",textColor:"#FFFFFF"},{level:3,name:"大奖",amount:8e4,color:"#8B5CF6",textColor:"#FFFFFF"},{level:4,name:"超级大奖",amount:15e4,color:"#10B981",textColor:"#FFFFFF"},{level:5,name:"终极大奖",amount:3e5,color:"#F97316",textColor:"#FFFFFF"}]}},w=b[o].rewards.map((e,t)=>({...e,startAngle:60*t,endAngle:(t+1)*60,angle:60})),drawWheel=()=>{let e=p.current;if(!e)return;let t=e.getContext("2d"),l=e.width/2,a=e.height/2,n=Math.min(l,a)-10;t.clearRect(0,0,e.width,e.height),t.beginPath(),t.arc(l,a,n+5,0,2*Math.PI),t.fillStyle="rgba(0, 0, 0, 0.3)",t.fill(),w.forEach((e,s)=>{let o=e.startAngle*Math.PI/180-Math.PI/2,i=e.endAngle*Math.PI/180-Math.PI/2;t.beginPath(),t.moveTo(l,a),t.arc(l,a,n,o,i),t.closePath();let r=t.createRadialGradient(l,a,0,l,a,n);r.addColorStop(0,e.color),r.addColorStop(1,e.color+"80"),t.fillStyle=r,t.fill(),t.strokeStyle="#FFFFFF",t.lineWidth=2,t.stroke();let c=(o+i)/2,d=.7*n,m=l+Math.cos(c)*d,x=a+Math.sin(c)*d;if(t.save(),t.translate(m,x),t.rotate(c+Math.PI/2),t.fillStyle=e.textColor,t.font="bold 10px Arial",t.textAlign="center",t.strokeStyle="rgba(0, 0, 0, 0.8)",t.lineWidth=1,t.strokeText(e.name,0,-3),t.fillText(e.name,0,-3),e.amount>0){t.font="bold 8px Arial";let l="".concat(e.amount.toLocaleString());t.strokeText(l,0,8),t.fillText(l,0,8)}t.restore()});let s=t.createRadialGradient(l,a,0,l,a,30);s.addColorStop(0,"#FFFFFF"),s.addColorStop(1,"#E5E7EB"),t.beginPath(),t.arc(l,a,30,0,2*Math.PI),t.fillStyle=s,t.fill(),t.strokeStyle="#374151",t.lineWidth=2,t.stroke(),t.fillStyle="#374151",t.font="bold 14px Arial",t.textAlign="center",t.fillText("\uD83C\uDFB0",l,a+5),t.beginPath(),t.moveTo(l+n+3,a),t.lineTo(l+n-20,a-10),t.lineTo(l+n-20,a+10),t.closePath();let o=t.createLinearGradient(l+n+3,a,l+n-20,a);o.addColorStop(0,"#EF4444"),o.addColorStop(1,"#DC2626"),t.fillStyle=o,t.fill(),t.strokeStyle="#7F1D1D",t.lineWidth=2,t.stroke()};(0,n.useEffect)(()=>{drawWheel()},[o]);let spinWheel=e=>{let t=p.current;if(!t)return;let l=2160+e,a=Date.now(),n=0,animate=()=>{let e=Date.now()-a,s=Math.min(e/3e3,1);n=l*(1-Math.pow(1-s,4)),t.style.transform="rotate(".concat(n,"deg)"),s<1?requestAnimationFrame(animate):(d(!1),h(!0))};requestAnimationFrame(animate)},simulateGame=()=>{let e=Math.random(),t=0;t=e<.85?0:e<.93?1:e<.97?2:e<.99?3:e<.998?4:5;let l=b[o].rewards[t];return{level:t,name:l.name,amount:l.amount,isWin:t>0}},playGame=async()=>{if(!t){alert("请先连接钱包");return}let e=b[o],l=e.betAmount;if(s[o]<l){alert("余额不足！需要 ".concat(l.toLocaleString()," ").concat(o));return}try{d(!0),h(!1),x(null);let e=simulateGame();x(e);let t=w[e.level],l=Math.random()*t.angle,a=360-(t.startAngle+l);spinWheel(a),setTimeout(()=>{i&&i(),r&&r(e)},3e3)}catch(e){console.error("游戏错误:",e),d(!1),alert("游戏失败："+e.message)}},closeResult=()=>{h(!1),x(null),p.current&&(p.current.style.transform="rotate(0deg)")};return(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:["\uD83C\uDFB0 ",o," 转盘游戏"]}),(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)("div",{className:"relative wheel-container",children:(0,a.jsx)("canvas",{ref:p,width:260,height:260,className:"transition-transform duration-1000 ease-out drop-shadow-xl"})})}),(0,a.jsx)("div",{className:"bg-white/20 rounded-lg p-3 mb-4",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"text-blue-200 text-sm space-y-1",children:[(0,a.jsxs)("p",{children:["投注: ",(0,a.jsxs)("span",{className:"text-yellow-400 font-bold",children:[b[o].betAmount.toLocaleString()," ",o]})]}),(0,a.jsxs)("p",{children:["余额: ",(0,a.jsxs)("span",{className:"text-green-400 font-bold",children:[s[o].toLocaleString()," ",o]})]})]})})}),(0,a.jsx)("div",{className:"text-center mb-4",children:(0,a.jsx)("button",{onClick:playGame,disabled:c||!t||s[o]<b[o].betAmount,className:"w-full py-4 px-6 rounded-lg font-bold text-lg transition-all duration-200 transform ".concat(c?"bg-gray-500 cursor-not-allowed":t?s[o]<b[o].betAmount?"bg-red-500 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white active:scale-95 shadow-lg":"bg-gray-500 cursor-not-allowed"),children:c?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"转盘中..."]}):t?s[o]<b[o].betAmount?"余额不足":"\uD83C\uDFAF 开始游戏":"请连接钱包"})}),(0,a.jsxs)("div",{className:"bg-white/20 rounded-lg p-3",children:[(0,a.jsx)("h5",{className:"text-white font-semibold mb-2 text-center text-sm",children:"\uD83C\uDFC6 奖励表"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:b[o].rewards.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-1 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded mr-1",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-white text-xs",children:e.name})]}),(0,a.jsx)("div",{className:"text-yellow-400 font-bold text-xs",children:e.amount>0?"".concat(e.amount.toLocaleString()):"无"})]},t))})]}),u&&m&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 modal-enter",onClick:closeResult,children:(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-5xl mb-4 animate-bounce",children:m.isWin?"\uD83C\uDF89":"\uD83D\uDE14"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:m.name}),m.isWin?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-600 text-lg font-bold mb-2",children:"恭喜中奖！"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["获得奖励: ",(0,a.jsxs)("span",{className:"text-yellow-600 font-bold text-lg",children:[m.amount.toLocaleString()," ",o]})]})]}):(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"很遗憾，请再试一次！"}),(0,a.jsx)("button",{onClick:closeResult,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform active:scale-95 transition-all",children:"继续游戏"})]})})})]})},d=l(1476),m=l(1653),x=l(7999),u=l(3454),components_MobileMultiWalletConnection=e=>{let{account:t,balances:l,onConnect:s,onDisconnect:o}=e,[i,r]=(0,n.useState)(!1),[c,h]=(0,n.useState)(null),[p,b]=(0,n.useState)(""),[w,g]=(0,n.useState)(!1),[f,j]=(0,n.useState)(null),[v,y]=(0,n.useState)(!1),N=[{name:"TP钱包",icon:"\uD83D\uDD35",type:"app",description:"最受欢迎的多链钱包",id:"tokenpocket",downloadUrl:"https://www.tokenpocket.pro/zh/download/app",deepLink:"tpoutside://wc?uri="},{name:"Trust Wallet",icon:"\uD83D\uDEE1️",type:"app",description:"币安官方钱包",id:"trust",downloadUrl:"https://trustwallet.com/download",deepLink:"https://link.trustwallet.com/wc?uri="},{name:"Coinbase Wallet",icon:"\uD83D\uDD35",type:"app",description:"Coinbase官方钱包",id:"coinbase",downloadUrl:"https://www.coinbase.com/wallet/downloads",deepLink:"https://go.cb-w.com/wc?uri="},{name:"MetaMask",icon:"\uD83E\uDD8A",type:"app",description:"以太坊钱包",id:"metamask",downloadUrl:"https://metamask.io/download/",deepLink:"https://metamask.app.link/wc?uri="},{name:"imToken",icon:"\uD83D\uDC8E",type:"app",description:"专业数字资产钱包",id:"imtoken",downloadUrl:"https://token.im/download",deepLink:"imtokenv2://wc?uri="},{name:"Bitget Wallet",icon:"\uD83D\uDFE1",type:"app",description:"Web3多链钱包",id:"bitget",downloadUrl:"https://web3.bitget.com/wallet-download",deepLink:"bitkeep://wc?uri="},{name:"OKX Wallet",icon:"⚫",type:"app",description:"OKX官方钱包",id:"okx",downloadUrl:"https://www.okx.com/download",deepLink:"okex://main/wc?uri="},{name:"其他钱包",icon:"\uD83D\uDCF1",type:"qr",description:"扫码连接任意钱包",id:"other"}],initializeWalletConnect=async()=>{try{let e=await x.Gn.init({projectId:u.env.NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID||"2f5a2c1a2b3c3d4e5f6g7h8i9j0k1l2m",chains:[3797],optionalChains:[3797],rpcMap:{3797:"https://elves-core1.alvey.io"},metadata:{name:"MAO转盘游戏",description:"AlveyChain上的MAO转盘游戏",url:"https://mao-game.alvey.io",icons:["https://mao-game.alvey.io/icon.png"]}});return e.on("display_uri",e=>{console.log("WalletConnect URI:",e),b(e)}),e.on("connect",t=>{console.log("WalletConnect connected:",t),handleWalletConnected(e,t[0])}),e.on("disconnect",()=>{console.log("WalletConnect disconnected"),o&&o()}),h(e),e}catch(e){throw console.error("WalletConnect initialization error:",e),e}},handleWalletConnected=async(e,t)=>{try{let l=new d.Q(e),a=await l.getSigner();s&&s({account:t,provider:l,signer:a}),g(!1),r(!1),j(null),y(!1)}catch(e){console.error("Handle wallet connection error:",e),g(!1)}},connectWallet=async e=>{try{g(!0),j(e);let t=c;t||(t=await initializeWalletConnect()),await t.connect()}catch(e){console.error("Connect wallet error:",e),alert("连接钱包失败: "+e.message),g(!1)}},handleWalletAppConnect=e=>{connectWallet(e)},handleQRConnect=()=>{y(!0),connectWallet({id:"qr",type:"qr"})},generateWalletDeepLink=(e,t)=>e.deepLink&&t?e.deepLink+encodeURIComponent(t):"#",disconnectWallet=async()=>{c&&await c.disconnect(),o&&o()},formatBalance=e=>parseFloat(e||0).toFixed(2),copyToClipboard=e=>{navigator.clipboard.writeText(e).then(()=>{alert("链接已复制到剪贴板")}).catch(e=>{console.error("复制失败:",e)})};return(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 text-center",children:"连接钱包"}),t?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl mb-2",children:"✅"}),(0,a.jsx)("p",{className:"text-green-400 font-semibold",children:"钱包已连接"}),(0,a.jsx)("p",{className:"text-blue-200 text-sm mt-1",children:t?"".concat(t.slice(0,6),"...").concat(t.slice(-4)):""})]}),(0,a.jsxs)("div",{className:"border-t border-white/20 pt-4",children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-3 text-sm",children:"代币余额"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xs mr-2",children:"M"}),(0,a.jsx)("span",{className:"text-white text-sm",children:"MAO"})]}),(0,a.jsx)("span",{className:"text-yellow-400 font-bold text-sm",children:formatBalance(l.MAO)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs mr-2",children:"π"}),(0,a.jsx)("span",{className:"text-white text-sm",children:"PI"})]}),(0,a.jsx)("span",{className:"text-yellow-400 font-bold text-sm",children:formatBalance(l.PI)})]})]})]}),(0,a.jsx)("button",{onClick:disconnectWallet,className:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg transition-colors",children:"断开连接"}),(0,a.jsx)("div",{className:"bg-blue-500/20 border border-blue-500 rounded-lg p-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-blue-400 mr-2",children:"ℹ️"}),(0,a.jsx)("p",{className:"text-blue-200 text-xs",children:"确保您在 AlveyChain 网络上"})]})})]}):(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),(0,a.jsx)("p",{className:"text-blue-200 mb-4 text-sm",children:"选择您的手机钱包"}),i?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-64 overflow-y-auto",children:N.map(e=>(0,a.jsx)("div",{className:"border border-white/20 rounded-lg p-3 bg-white/5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-white font-semibold text-sm",children:e.name}),(0,a.jsx)("div",{className:"text-blue-200 text-xs",children:e.description})]})]}),(0,a.jsx)("div",{className:"flex flex-col space-y-1",children:"app"===e.type?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>handleWalletAppConnect(e),disabled:w,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded-lg transition-colors disabled:opacity-50",children:"连接"}),(0,a.jsx)("a",{href:e.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded-lg transition-colors text-center",children:"下载"})]}):(0,a.jsx)("button",{onClick:handleQRConnect,disabled:w,className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded-lg transition-colors disabled:opacity-50",children:"扫码"})})]})},e.id))}),(v||f&&p)&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-white/5 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-3 text-center text-sm",children:"扫描二维码连接"}),(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"bg-white p-3 rounded-lg",children:(0,a.jsx)(m.ZP,{value:p,size:180,style:{maxWidth:"100%",height:"auto"}})})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-center text-blue-200 text-xs mb-2",children:"或点击快捷连接:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:N.filter(e=>"app"===e.type).slice(0,4).map(e=>(0,a.jsxs)("a",{href:generateWalletDeepLink(e,p),className:"flex items-center justify-center px-2 py-2 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)("span",{className:"mr-1",children:e.icon}),e.name]},e.id))}),(0,a.jsx)("button",{onClick:()=>copyToClipboard(p),className:"w-full py-2 px-4 bg-gray-600 text-white text-xs rounded-lg hover:bg-gray-700 transition-colors",children:"\uD83D\uDCCB 复制连接"})]})]}),(0,a.jsx)("button",{onClick:()=>{r(!1),j(null),b(""),y(!1)},className:"w-full py-2 px-4 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:"返回"})]}):(0,a.jsx)("button",{onClick:()=>r(!0),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105",children:"\uD83D\uDD17 连接钱包"})]})]})},h=l(3454);function MobileGame(){let e=(0,s.useRouter)(),[t,l]=(0,n.useState)("MAO"),[o,d]=(0,n.useState)(""),[m,x]=(0,n.useState)(null),[u,p]=(0,n.useState)(null),[b,w]=(0,n.useState)({}),[g,f]=(0,n.useState)({MAO:0,PI:0}),[j,v]=(0,n.useState)([]),[y,N]=(0,n.useState)(!1),F={WHEEL_GAME:h.env.NEXT_PUBLIC_CONTRACT_ADDRESS||"0x1234567890abcdef1234567890abcdef12345678",MAO_TOKEN:"0x22f49bcb3dad370a9268ba3fca33cb037ca3d022",PI_TOKEN:"0xfd4680e25e05b3435c7f698668d1ce80d2a9f444"},C=["function playMAOGame() external returns (uint256)","function playPIGame() external returns (uint256)","function getPlayerHistory(address player) external view returns (tuple(address player, uint8 tokenType, uint256 betAmount, uint256 rewardAmount, uint8 rewardLevel, uint256 timestamp, uint256 randomSeed)[])","function getRewardLevelName(uint8 level) external pure returns (string)","event GamePlayed(address indexed player, uint8 tokenType, uint256 betAmount, uint256 rewardAmount, uint8 rewardLevel, uint256 randomSeed)"],k=["function balanceOf(address owner) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)"];(0,n.useEffect)(()=>{if(e.isReady){let{token:t}=e.query;t&&["MAO","PI"].includes(t.toUpperCase())&&l(t.toUpperCase())}},[e.isReady,e.query]);let handleWalletConnect=async e=>{try{N(!0);let{account:t,provider:l,signer:a}=e;d(t),x(l),p(a),await initializeContracts(a),await loadBalances(t,a),await loadGameHistory(t,a)}catch(e){console.error("钱包连接处理错误:",e),alert("连接处理失败: "+e.message)}finally{N(!1)}},initializeContracts=async e=>{try{let t=new r.CH(F.WHEEL_GAME,C,e),l=new r.CH(F.MAO_TOKEN,k,e),a=new r.CH(F.PI_TOKEN,k,e),n={wheelGame:t,maoToken:l,piToken:a};return w(n),n}catch(e){throw console.error("初始化合约错误:",e),e}},loadBalances=async(e,t)=>{try{let l=b.maoToken?b:await initializeContracts(t),[a,n]=await Promise.all([l.maoToken.balanceOf(e),l.piToken.balanceOf(e)]);f({MAO:c.dF(a),PI:c.dF(n)})}catch(e){console.error("加载余额错误:",e),f({MAO:1e3,PI:5e4})}},loadGameHistory=async(e,t)=>{try{let l=b.wheelGame?b:await initializeContracts(t),a=await l.wheelGame.getPlayerHistory(e),n=a.map((e,t)=>({id:t,player:e.player,tokenType:e.tokenType,betAmount:c.dF(e.betAmount),rewardAmount:c.dF(e.rewardAmount),rewardLevel:e.rewardLevel,timestamp:new Date(1e3*Number(e.timestamp)).toLocaleString(),randomSeed:e.randomSeed.toString()}));v(n)}catch(e){console.error("加载游戏历史错误:",e),v([])}},updateBalances=async()=>{o&&u&&await loadBalances(o,u)},switchToken=t=>{l(t),e.push("/mobile?token=".concat(t),void 0,{shallow:!0})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"MAO转盘游戏 - 移动端"}),(0,a.jsx)("meta",{name:"description",content:"MAO转盘游戏移动端 - 支持多钱包连接"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,a.jsxs)("header",{className:"text-center mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"\uD83C\uDFB0 MAO转盘游戏"}),(0,a.jsx)("p",{className:"text-blue-200 text-sm",children:"移动端游戏 • AlveyChain • 多钱包支持"})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 mb-6",children:[(0,a.jsx)("h3",{className:"text-white font-bold mb-3 text-center",children:"选择代币"}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"bg-white/20 rounded-lg p-1 flex w-full max-w-xs",children:["MAO","PI"].map(e=>(0,a.jsx)("button",{onClick:()=>switchToken(e),className:"flex-1 py-2 px-4 rounded-md font-semibold transition-all ".concat(t===e?"bg-blue-600 text-white":"text-blue-200 hover:text-white"),children:e},e))})})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(components_MobileMultiWalletConnection,{account:o,balances:g,onConnect:handleWalletConnect,onDisconnect:()=>{d(""),x(null),p(null),w({}),f({MAO:0,PI:0}),v([])}})}),o&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(components_MobileWheelGame,{gameToken:t,account:o,balances:g,contract:b.wheelGame,onGameResult:e=>{let l={id:Date.now(),timestamp:new Date().toISOString(),token:t,level:e.level,amount:e.amount,isWin:e.isWin,txHash:e.txHash||""};v(e=>[l,...e]),updateBalances()}}),j.length>0&&(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-white font-bold mb-4 text-center",children:"游戏历史"}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:j.slice(0,5).map(e=>(0,a.jsx)("div",{className:"bg-white/5 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-white text-sm font-semibold",children:[e.token," 游戏"]}),(0,a.jsx)("div",{className:"text-blue-200 text-xs",children:e.timestamp})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-bold text-sm ".concat(e.isWin?"text-green-400":"text-red-400"),children:[e.isWin?"+":"",e.amount]}),(0,a.jsxs)("div",{className:"text-blue-200 text-xs",children:["等级 ",e.level]})]})]})},e.id))})]})]}),(0,a.jsxs)("div",{className:"mt-6 bg-blue-500/20 border border-blue-500 rounded-xl p-4",children:[(0,a.jsx)("h4",{className:"text-blue-400 font-semibold mb-2",children:"\uD83D\uDCF1 使用提示"}),(0,a.jsxs)("ul",{className:"text-blue-200 text-sm space-y-1",children:[(0,a.jsx)("li",{children:"• 支持 TP钱包、Trust Wallet、MetaMask等多种钱包"}),(0,a.jsx)("li",{children:"• 扫描二维码即可快速连接钱包"}),(0,a.jsx)("li",{children:"• 确保钱包已切换到AlveyChain网络"}),(0,a.jsx)("li",{children:"• 游戏结果将自动同步到您的钱包"})]})]}),(0,a.jsxs)("footer",{className:"mt-8 text-center text-blue-200 text-sm",children:[(0,a.jsx)("p",{children:"\xa9 2024 MAO转盘游戏 • AlveyChain"}),(0,a.jsx)("p",{className:"mt-1",children:"安全 • 公平 • 透明"})]})]})]})}}},function(e){e.O(0,[7583,5771,9774,2888,179],function(){return e(e.s=9644)}),_N_E=e.O()}]);